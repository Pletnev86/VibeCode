# Vision — VibeCode

## 1. Цель проекта

Создать минимальный рабочий каркас VibeCode, который:

- **Запускается на Electron и Node.js** — кроссплатформенное десктопное приложение
- **Подключает локальные модели LM Studio** — DeepSeek, Falcon и другие локальные LLM
- **Поддерживает внешние модели** — через OpenRouter и GPT API для расширенных возможностей
- **Принимает команды через чат-интерфейс** — интуитивный UI для взаимодействия с ИИ
- **Создает, редактирует и сохраняет кодовые файлы** — базовая функциональность редактора кода
- **Готов к расширению на самопрограммирование** — архитектура для автономной разработки
- **Поддерживает авто-режим выбора модели** — "Smart Auto Mode" для оптимального выбора модели по задаче
- **Управляет ПК через AutoIt** — клавиатура, мышь, окна, программы
- **Выполняет автотесты кода** — автоматическое тестирование создаваемого кода

---

## 2. Основные компоненты

### 2.1 Electron-приложение

**Основные файлы:**
- `main.js` — создает окно приложения и подгружает preload.js
- `preload.js` — мост между фронтендом и Node.js (безопасный IPC)
- `index.html` — структура интерфейса
- `ui.js` — логика чат-интерфейса и textarea для задач

**Назначение:** Обеспечивает десктопное приложение с веб-интерфейсом и доступом к Node.js API.

### 2.2 AI Router (`ai/router.js`)

**Функциональность:**
- Маршрутизирует запросы между LM Studio, Falcon и OpenRouter
- Минимальная логика выбора модели по типу задачи
- Управление подключениями к различным AI-провайдерам

**Назначение:** Единая точка входа для всех AI-запросов с автоматическим выбором оптимальной модели.

### 2.3 SelfDev Agent (`agents/selfdev.js`)

**Функциональность:**
- Читает `vision.md` и `roadmap.md` для понимания целей проекта
- Генерирует задачи для системы на основе видения
- Создает кодовые файлы по задачам
- Пишет логи действий для отслеживания прогресса

**Назначение:** Автономный агент для самопрограммирования системы на основе видения и roadmap.

### 2.4 Execution Layer

**Компоненты:**
- Минимальный executor: запись файлов, запуск скриптов через Node.js
- Возможность интеграции AutoIt для управления ПК
- Возможность автотестирования (пустой раннер на старте)

**Назначение:** Безопасное выполнение команд и управление системой.

---

## 3. Требования к минимальному старту

### 3.1 Технологический стек

1. **Node.js + npm** — среда выполнения
2. **Electron** — фреймворк для десктопного приложения
3. **LM Studio** — локально установленное с моделями:
   - DeepSeek-R1
   - Falcon
4. **Возможность POST-запросов** к LM Studio API

### 3.2 Структура проекта

```
/src
  main.js          # Точка входа Electron
  preload.js       # IPC мост
  index.html       # UI структура
  ui.js            # UI логика
  /ai
    router.js      # AI маршрутизатор
  /agents
    selfdev.js     # SelfDev агент
  /docs
    vision.md      # Видение проекта
    roadmap.md     # План развития
```

---

## 4. Цели ближайшего старта

### 4.1 Минимальный рабочий проект

- Создать базовую структуру Electron-приложения
- Реализовать простой чат-интерфейс
- Настроить подключение к LM Studio
- Реализовать базовый AI Router

### 4.2 Self-Build функциональность

- Кнопка «Self-Build» для генерации первых файлов
- ИИ должен уметь читать `vision.md` и `roadmap.md`
- Генерация кода на основе видения проекта
- Логирование всех действий

### 4.3 Подготовка к самопрограммированию

- Архитектура для автономной разработки
- Система задач и их выполнение
- Механизм обратной связи и улучшения

### 4.4 Планируемые агенты (будущее развитие)

- **Refactor Agent** — рефакторинг кода
- **Fix Agent** — исправление ошибок
- **Explain Agent** — объяснение кода
- **Patch Agent** — применение патчей
- **Autocomplete Agent** — автодополнение
- **PC-Control Agent** — управление ПК через AutoIt

---

## 5. Принципы разработки

### 5.1 Модульность

Все компоненты должны быть независимыми модулями с четкими интерфейсами.

### 5.2 Расширяемость

Архитектура должна позволять легко добавлять новые агенты, модели и функции.

### 5.3 Безопасность

Выполнение кода должно быть изолированным и контролируемым.

### 5.4 Логирование

Все действия системы должны логироваться для отслеживания и отладки.

---

## 6. Долгосрочное видение

VibeCode должен стать автономной системой разработки, которая:

1. **Самостоятельно развивается** на основе vision и roadmap
2. **Выбирает оптимальные модели** для различных типов задач
3. **Управляет компьютером** для выполнения сложных задач
4. **Тестирует свой код** перед применением изменений
5. **Обучается** на основе результатов своей работы

---

## 7. Ключевые метрики успеха

- ✅ Система запускается и подключается к LM Studio
- ✅ Чат-интерфейс принимает команды и получает ответы
- ✅ Self-Build генерирует рабочие файлы
- ✅ AI Router корректно выбирает модели
- ✅ SelfDev Agent читает vision и roadmap
- ✅ Система может создавать и сохранять файлы

---

*Документ создан на основе Visionstart — стартового Vision для VibeCode*

